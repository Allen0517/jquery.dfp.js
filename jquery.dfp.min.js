/**
 * jQuery DFP v1.1.9
 * http://github.com/coop182/jquery.dfp.js
 *
 * Copyright 2015 Matt Cooper
 * Released under the MIT license
 */
!function(a,b,c){"use strict";var d,e=this,f="",g=0,h=0,i=0,j=".adunit",k={},l=!1,m="googleAdUnit",n=function(b,c,e){g=0,i=0,f=b,d=a(c),v(),o(e),a(function(){p(),q()})},o=function(d){if(k={setTargeting:{},setCategoryExclusion:"",setLocation:"",enableSingleRequest:!0,collapseEmptyDivs:"original",refreshExisting:!0,disablePublisherConsole:!1,disableInitialLoad:!1,noFetch:!1,namespace:c,sizeMapping:{}},"undefined"==typeof d.setUrlTargeting||d.setUrlTargeting){var e=r(d.url);a.extend(!0,k.setTargeting,{UrlHost:e.Host,UrlPath:e.Path,UrlQuery:e.Query})}a.extend(!0,k,d),k.googletag&&b.googletag.cmd.push(function(){a.extend(!0,b.googletag,k.googletag)})},p=function(){var c=b.googletag;d.each(function(){var b=a(this);g++;var d=t(b),e=s(b,d),h=u(b);b.data("existingContent",b.html()),b.html("").addClass("display-none"),c.cmd.push(function(){var g,i=b.data(m);i?g=i:(g=b.data("outofpage")?c.defineOutOfPageSlot("/"+f+"/"+d,e):b.data("companion")?c.defineSlot("/"+f+"/"+d,h,e).addService(c.companionAds()):c.defineSlot("/"+f+"/"+d,h,e),g=g.addService(c.pubads()));var j=b.data("targeting");j&&a.each(j,function(a,b){g.setTargeting(a,b)});var l=b.data("exclusions");if(l){var n,o=l.split(",");a.each(o,function(b,c){n=a.trim(c),n.length>0&&g.setCategoryExclusion(n)})}var p=b.data("size-mapping");if(p&&k.sizeMapping[p]){var q=c.sizeMapping();a.each(k.sizeMapping[p],function(a,b){q.addSize(b.browser,b.ad_sizes)}),g.defineSizeMapping(q.build())}b.data(m,g),"function"==typeof k.beforeEachAdLoaded&&k.beforeEachAdLoaded.call(this,b)})}),c.cmd.push(function(){var b=c.pubads();k.enableSingleRequest&&b.enableSingleRequest(),a.each(k.setTargeting,function(a,c){b.setTargeting(a,c)});var e=k.setLocation;if("object"==typeof e&&("number"==typeof e.latitude&&"number"==typeof e.longitude&&"number"==typeof e.precision?b.setLocation(e.latitude,e.longitude,e.precision):"number"==typeof e.latitude&&"number"==typeof e.longitude&&b.setLocation(e.latitude,e.longitude)),k.setCategoryExclusion.length>0){var f,h=k.setCategoryExclusion.split(",");a.each(h,function(c,d){f=a.trim(d),f.length>0&&b.setCategoryExclusion(f)})}k.collapseEmptyDivs&&b.collapseEmptyDivs(),k.disablePublisherConsole&&b.disablePublisherConsole(),k.companionAds&&(c.companionAds().setRefreshUnfilledSlots(!0),k.disableInitialLoad||b.enableVideoAds()),k.disableInitialLoad&&b.disableInitialLoad(),k.noFetch&&b.noFetch(),b.addEventListener("slotRenderEnded",function(b){i++;var c=a("#"+b.slot.getSlotId().getDomId()),e=b.isEmpty?"none":"block",f=c.data("existingContent");"none"===e&&a.trim(f).length>0&&"original"===k.collapseEmptyDivs&&(c.show().html(f),e="block display-original"),c.removeClass("display-none").addClass("display-"+e),"function"==typeof k.afterEachAdLoaded&&k.afterEachAdLoaded.call(this,c,b),"function"==typeof k.afterAllAdsLoaded&&i===g&&k.afterAllAdsLoaded.call(this,d)}),c.enableServices()})},q=function(){d.each(function(){var c=a(this),d=c.data(m),e=b.googletag;e.cmd.push(k.refreshExisting&&d&&c.hasClass("display-block")?function(){e.pubads().refresh([d])}:function(){e.display(c.attr("id"))})})},r=function(a){var c=(a||b.location.toString()).match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/),d=c[4]||"",e=(c[5]||"").replace(/(.)\/$/,"$1"),f=c[7]||"",g=f.replace(/\=/gi,":").split("&");return{Host:d,Path:e,Query:g}},s=function(a,b){return h++,a.attr("id")||a.attr("id",b.replace(/[^A-z0-9]/g,"_")+"-auto-gen-id-"+h).attr("id")},t=function(a){var b=a.data("adunit")||k.namespace||a.attr("id")||"";return"function"==typeof k.alterAdUnitName&&(b=k.alterAdUnitName.call(this,b,a)),b},u=function(b){var c=[],d=b.data("dimensions");if(d){var e=d.split(",");a.each(e,function(a,b){var d=b.split("x");c.push([parseInt(d[0],10),parseInt(d[1],10)])})}else c.push([b.width(),b.height()]);return c},v=function(){if(l=l||a('script[src*="googletagservices.com/tag/js/gpt.js"]').length,!l){b.googletag=b.googletag||{},b.googletag.cmd=b.googletag.cmd||[];var c=document.createElement("script");c.async=!0,c.type="text/javascript",c.onerror=function(){w()};var d="https:"===document.location.protocol;c.src=(d?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(c,e),"none"===c.style.display&&w()}},w=function(){var c=b.googletag,d=c.cmd;setTimeout(function(){var b=function(a,b,d){return c.ads.push(d),c.ads[d]={renderEnded:function(){},addService:function(){return this}},c.ads[d]};c={cmd:{push:function(a){a.call(e)}},ads:[],pubads:function(){return this},noFetch:function(){return this},disableInitialLoad:function(){return this},disablePublisherConsole:function(){return this},enableSingleRequest:function(){return this},setTargeting:function(){return this},collapseEmptyDivs:function(){return this},enableServices:function(){return this},defineSlot:function(a,c,d){return b(a,c,d,!1)},defineOutOfPageSlot:function(a,c){return b(a,[],c,!0)},display:function(a){return c.ads[a].renderEnded.call(e),this}},a.each(d,function(a,b){c.cmd.push(b)})},50)};!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b("object"==typeof exports?require("jquery"):a)}(function(a){a.dfp=a.fn.dfp=function(a,b){b=b||{},a===c&&(a=f),"object"==typeof a&&(b=a,a=b.dfpID||f);var d=this;return"function"==typeof this&&(d=j),n(a,d,b),this}})}(window.jQuery||window.Zepto||window.tire,window);