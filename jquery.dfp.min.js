/**
 * jQuery DFP v2.2.0
 * http://github.com/coop182/jquery.dfp.js
 *
 * Copyright 2015 Matt Cooper
 * Released under the MIT license
 */
!function(a,b){"use strict";!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b("object"==typeof exports?require("jquery"):a.jQuery||a.Zepto)}(function(c){var d=this,e="",f=0,g=0,h=0,i=".adunit",j=!1,k="googleAdUnit",l=function(a,b,d){var g,i;f=0,h=0,e=a,i=c(b),t(),g=m(d),c(function(){n(g,i),o(g,i)})},m=function(d){var e={setTargeting:{},setCategoryExclusion:"",setLocation:"",enableSingleRequest:!0,collapseEmptyDivs:"original",refreshExisting:!0,disablePublisherConsole:!1,disableInitialLoad:!1,noFetch:!1,namespace:b,sizeMapping:{}};if("undefined"==typeof d.setUrlTargeting||d.setUrlTargeting){var f=p(d.url);c.extend(!0,e.setTargeting,{UrlHost:f.Host,UrlPath:f.Path,UrlQuery:f.Query})}return c.extend(!0,e,d),e.googletag&&a.googletag.cmd.push(function(){c.extend(!0,a.googletag,e.googletag)}),e},n=function(b,d){var g=a.googletag;d.each(function(){var a=c(this);f++;var d=r(a,b),h=q(a,d),i=s(a);a.data("existingContent",a.html()),a.html("").addClass("display-none"),g.cmd.push(function(){var f,j=a.data(k);if(j)f=j;else{var l;l=""===e?d:"/"+e+"/"+d,a.data("outofpage")?f=g.defineOutOfPageSlot(l,h):(f=g.defineSlot(l,i,h),a.data("companion")&&(f=f.addService(g.companionAds()))),f=f.addService(g.pubads())}var m=a.data("targeting");m&&c.each(m,function(a,b){f.setTargeting(a,b)});var n=a.data("exclusions");if(n){var o,p=n.split(",");c.each(p,function(a,b){o=c.trim(b),o.length>0&&f.setCategoryExclusion(o)})}var q=a.data("size-mapping");if(q&&b.sizeMapping[q]){var r=g.sizeMapping();c.each(b.sizeMapping[q],function(a,b){r.addSize(b.browser,b.ad_sizes)}),f.defineSizeMapping(r.build())}a.data(k,f),"function"==typeof b.beforeEachAdLoaded&&b.beforeEachAdLoaded.call(this,a)})}),g.cmd.push(function(){var a=g.pubads();b.enableSingleRequest&&a.enableSingleRequest(),c.each(b.setTargeting,function(b,c){a.setTargeting(b,c)});var e=b.setLocation;if("object"==typeof e&&("number"==typeof e.latitude&&"number"==typeof e.longitude&&"number"==typeof e.precision?a.setLocation(e.latitude,e.longitude,e.precision):"number"==typeof e.latitude&&"number"==typeof e.longitude&&a.setLocation(e.latitude,e.longitude)),b.setCategoryExclusion.length>0){var i,j=b.setCategoryExclusion.split(",");c.each(j,function(b,d){i=c.trim(d),i.length>0&&a.setCategoryExclusion(i)})}b.collapseEmptyDivs&&a.collapseEmptyDivs(),b.disablePublisherConsole&&a.disablePublisherConsole(),b.companionAds&&(g.companionAds().setRefreshUnfilledSlots(!0),b.disableInitialLoad||a.enableVideoAds()),b.disableInitialLoad&&a.disableInitialLoad(),b.noFetch&&a.noFetch(),a.addEventListener("slotRenderEnded",function(a){h++;var e=c("#"+a.slot.getSlotId().getDomId()),g=a.isEmpty?"none":"block",i=e.data("existingContent");"none"===g&&c.trim(i).length>0&&"original"===b.collapseEmptyDivs&&(e.show().html(i),g="block display-original"),e.removeClass("display-none").addClass("display-"+g),"function"==typeof b.afterEachAdLoaded&&b.afterEachAdLoaded.call(this,e,a),"function"==typeof b.afterAllAdsLoaded&&h===f&&b.afterAllAdsLoaded.call(this,d)}),g.enableServices()})},o=function(b,d){d.each(function(){var d=c(this),e=d.data(k),f=a.googletag;f.cmd.push(b.refreshExisting&&e&&d.hasClass("display-block")?function(){f.pubads().refresh([e])}:function(){f.display(d.attr("id"))})})},p=function(b){var c=(b||a.location.toString()).match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/),d=c[4]||"",e=(c[5]||"").replace(/(.)\/$/,"$1"),f=c[7]||"",g=f.replace(/\=/gi,":").split("&");return{Host:d,Path:e,Query:g}},q=function(a,b){return g++,a.attr("id")||a.attr("id",b.replace(/[^A-z0-9]/g,"_")+"-auto-gen-id-"+g).attr("id")},r=function(a,b){var c=a.data("adunit")||b.namespace||a.attr("id")||"";return"function"==typeof b.alterAdUnitName&&(c=b.alterAdUnitName.call(this,c,a)),c},s=function(a){var b=[],d=a.data("dimensions");if(d){var e=d.split(",");c.each(e,function(a,c){var d=c.split("x");b.push([parseInt(d[0],10),parseInt(d[1],10)])})}else b.push([a.width(),a.height()]);return b},t=function(){if(j=j||c('script[src*="googletagservices.com/tag/js/gpt.js"]').length,!j){a.googletag=a.googletag||{},a.googletag.cmd=a.googletag.cmd||[];var b=document.createElement("script");b.async=!0,b.type="text/javascript",b.onerror=function(){u()};var d="https:"===document.location.protocol;b.src=(d?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(b,e),"none"===b.style.display&&u()}},u=function(){var b=a.googletag,e=b.cmd;setTimeout(function(){var a=function(a,c,d){return b.ads.push(d),b.ads[d]={renderEnded:function(){},addService:function(){return this}},b.ads[d]};b={cmd:{push:function(a){a.call(d)}},ads:[],pubads:function(){return this},noFetch:function(){return this},disableInitialLoad:function(){return this},disablePublisherConsole:function(){return this},enableSingleRequest:function(){return this},setTargeting:function(){return this},collapseEmptyDivs:function(){return this},enableServices:function(){return this},defineSlot:function(b,c,d){return a(b,c,d,!1)},defineOutOfPageSlot:function(b,c){return a(b,[],c,!0)},display:function(a){return b.ads[a].renderEnded.call(d),this}},c.each(e,function(a,c){b.cmd.push(c)})},50)};c.dfp=c.fn.dfp=function(a,c){c=c||{},a===b&&(a=e),"object"==typeof a&&(c=a,a=c.dfpID||e);var d=this;return"function"==typeof this&&(d=i),l(a,d,c),this}})}(window);