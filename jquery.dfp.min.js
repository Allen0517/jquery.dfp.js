/**
 * jQuery DFP v1.0.12
 * http://github.com/coop182/jquery.dfp.js
 *
 * Copyright 2013 Matt Cooper
 * Released under the MIT license
 */
(function(c,a,w){var k=this,l="",q=0,u=0,f={},r=!1,p,v=function(){var f=a.googletag.cmd;setTimeout(function(){a.googletag={cmd:{push:function(a){a.call(k)}},ads:[],pubads:function(){return this},enableSingleRequest:function(){return this},setTargeting:function(){return this},collapseEmptyDivs:function(){return this},enableServices:function(){return this},defineSlot:function(f,b,c){a.googletag.ads.push(c);a.googletag.ads[c]={renderEnded:function(){},addService:function(){return this}};return a.googletag.ads[c]},
defineOutOfPageSlot:function(c,b){a.googletag.ads.push(b);a.googletag.ads[b]={renderEnded:function(){},addService:function(){return this}};return a.googletag.ads[b]},display:function(c){a.googletag.ads[c].renderEnded.call(k);return this}};c.each(f,function(c,b){a.googletag.cmd.push(b)})},50)};c.dfp=c.fn.dfp=function(e,m){m=m||{};e===w&&(e=l);"object"===typeof e&&(m=e,e=m.dfpID||l);var b=this;"function"===typeof this&&(b=".adunit");var g=m;l=e;p=c(b);var h=a.location.pathname.replace(/\/$/,""),j=h.match(RegExp("/([^/]*)",
"ig")),b=["/"],k="";if("/"!==h&&null!==j){var h="",s=j.length;if(0<s)for(var n=0;n<s;n++){h=j[n];b.push(h);for(var t=n+1;t<s;t++)h+=j[t],b.push(h);0===n&&(b.splice(-1,1),k=h)}b.push(k)}b=b.reverse();a.location.toString().replace(/\=/ig,":").match(/\?(.+)$/);j=RegExp.$1.split("&");f={setTargeting:{inURL:b,URLIs:b[0],Query:j,Domain:a.location.host},enableSingleRequest:!0,collapseEmptyDivs:"original",targetPlatform:"web",enableSyncRendering:!1,refreshExisting:!0};c.extend(!0,f,g);f.googletag&&a.googletag.cmd.push(function(){c.extend(a.googletag,
f.googletag)});r=r||c('script[src*="googletagservices.com/tag/js/gpt.js"]').length;r||(a.googletag=a.googletag||{},a.googletag.cmd=a.googletag.cmd||[],g=document.createElement("script"),g.async=!0,g.type="text/javascript",g.onerror=function(){v()},g.src=("https:"===document.location.protocol?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(g,b),"none"===g.style.display&&v());c(function(){p.each(function(){var d=c(this);
q++;var b=d.data("adunit")||d.attr("id"),h=d.attr("id")||d.attr("id",b+"-auto-gen-id-"+q).attr("id"),g=[],e=d.data("dimensions");e?(e=e.split(","),c.each(e,function(a,d){var b=d.split("x");g.push([parseInt(b[0],10),parseInt(b[1],10)])})):g.push([d.width(),d.height()]);var j=d.html();d.html("").addClass("display-none");a.googletag.cmd.push(function(){var e;e=d.data("googleAdUnit")?d.data("googleAdUnit"):d.data("outofpage")?a.googletag.defineOutOfPageSlot("/"+l+"/"+b,h).addService(a.googletag.pubads()):
a.googletag.defineSlot("/"+l+"/"+b,g,h).addService(a.googletag.pubads());d.data("targeting")&&c.each(d.data("targeting"),function(a,b){e.setTargeting(a,b)});e.oldRenderEnded=e.oldRenderEnded||e.renderEnded;e.renderEnded=function(){u++;var a=d.css("display");"none"===a&&(0<c.trim(j).length&&"original"===f.collapseEmptyDivs)&&(d.show().html(j),a="block display-original");d.removeClass("display-none").addClass("display-"+a);e.oldRenderEnded();"function"===typeof f.afterEachAdLoaded&&f.afterEachAdLoaded.call(this,
d);"function"===typeof f.afterAllAdsLoaded&&u===q&&f.afterAllAdsLoaded.call(this,p)};d.data("googleAdUnit",e)})});a.googletag.cmd.push(function(){!0===f.enableSingleRequest&&a.googletag.pubads().enableSingleRequest();c.each(f.setTargeting,function(b,c){a.googletag.pubads().setTargeting(b,c)});(!0===f.collapseEmptyDivs||"original"===f.collapseEmptyDivs)&&a.googletag.pubads().collapseEmptyDivs();a.googletag.enableServices()});p.each(function(){var b=c(this);f.refreshExisting&&b.data("googleAdUnit")&&
b.hasClass("display-block")?a.googletag.cmd.push(function(){a.googletag.pubads().refresh([b.data("googleAdUnit")])}):a.googletag.cmd.push(function(){a.googletag.display(b.attr("id"))})})});return this}})(window.jQuery,window);
